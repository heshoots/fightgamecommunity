webpackJsonp([1],{AfJK:function(e,n){},GKit:function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("7+uW"),a=t("zL8q"),s=t.n(a),i=(t("tvR6"),t("//Fk")),r=t.n(i),c=t("GG98"),l=t.n(c),d=t("1e2d"),u=t.n(d),m={name:"mapboxgl",data:function(){return{map:{}}},mounted:function(){u.a.accessToken="pk.eyJ1IjoicXVvcmF1ayIsImEiOiJjamUxcHNxdzExbmphMnhwOW8zMHV5ZmQxIn0.zJdXQSrVdgmYsg9xitYEzw";var e=new u.a.Map({container:"map",style:"mapbox://styles/mapbox/streets-v9",center:[-2,55],zoom:5});e.on("load",function(){e.addSource("communities",{type:"geojson",data:"https://zctpiqza70.execute-api.eu-west-1.amazonaws.com/dev/layer"}),e.addLayer({id:"communities",type:"symbol",source:"communities",layout:{"text-field":"{name}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,.6],"text-anchor":"top"}})}),this.map=e}},p={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"map"}})},staticRenderFns:[]};var f=t("VU/8")(m,p,!1,function(e){t("AfJK")},null,null).exports,v={name:"App",components:{mapbox:f},data:function(){return{search:"",scenes:!1,games:!1,results:!1,api:""}},mounted:function(){if(this.api="https://zctpiqza70.execute-api.eu-west-1.amazonaws.com/dev",navigator.geolocation){navigator.geolocation.getCurrentPosition(function(e){console.log(e)});var e=this;console.log(e),l()(e.api+"/scenes").then(function(n){console.log(n.body),e.scenes=n.body}),l()(e.api+"/games").then(function(n){console.log(n.body),e.games=n.body})}},watch:{search:function(){var e=this,n=l()(e.api+"/games?search="+this.search).then(function(e){return e.body}),t=l()(e.api+"/scenes?search="+this.search).then(function(e){return e.body});r.a.all([n,t]).then(function(n){var t=n[0];null==t&&(t=[]);var o=n[1];null==o&&(o=[]),e.results=t.concat(o)})}}},h={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("el-menu",{attrs:{mode:"horizontal"}},[t("el-menu-item",{attrs:{index:"1"}},[e._v("FightingGame.community")]),e._v(" "),t("el-menu-item",{attrs:{index:"2"}},[t("el-dropdown",[t("span",{staticClass:"el-dropdown-link"},[e._v("Scenes")]),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.scenes,function(n){return e.scenes?t("el-dropdown-item",{key:n.name},[e._v(e._s(n.name))]):e._e()}))],1)],1),e._v(" "),t("el-menu-item",{attrs:{index:"3"}},[t("el-dropdown",[t("span",{staticClass:"el-dropdown-link"},[e._v("Games")]),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.games,function(n){return e.games?t("el-dropdown-item",{key:n.name},[e._v(e._s(n.name))]):e._e()}))],1)],1),e._v(" "),t("el-menu-item",{attrs:{index:"4"}},[t("el-dropdown",[t("el-input",{staticClass:"el-dropdown-link",model:{value:e.search,callback:function(n){e.search=n},expression:"search"}}),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.results,function(n){return t("el-dropdown-item",{key:n.name},[e._v(e._s(n.name))])}))],1)],1)],1),e._v(" "),t("div",{staticClass:"map-container"},[t("mapbox",{staticClass:"map"})],1)],1)},staticRenderFns:[]};var w=t("VU/8")(v,h,!1,function(e){t("GKit")},null,null).exports,_=t("/ocq");o.default.use(_.a);var x=new _.a({routes:[{path:"/",name:"map",component:f}]});o.default.config.productionTip=!1,o.default.use(s.a),new o.default({el:"#app",router:x,components:{App:w},template:"<App/>"})},tvR6:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.78f5b59c8ee1ebe51659.js.map