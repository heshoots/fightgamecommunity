webpackJsonp([1],{"0Wa3":function(e,n){},NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("7+uW"),s=t("zL8q"),a=t.n(s),c=(t("tvR6"),t("//Fk")),i=t.n(c),r=t("GG98"),l=t.n(r),u=t("1e2d"),d=t.n(u),m={name:"mapboxgl",data:function(){return{map:{}}},mounted:function(){var e=this;d.a.accessToken="pk.eyJ1IjoicXVvcmF1ayIsImEiOiJjamUxcHNxdzExbmphMnhwOW8zMHV5ZmQxIn0.zJdXQSrVdgmYsg9xitYEzw";var n=new d.a.Map({container:"map",style:"mapbox://styles/mapbox/streets-v9",center:[-2,55],zoom:5});n.on("load",function(){n.addSource("communities",{type:"geojson",data:"https://zctpiqza70.execute-api.eu-west-1.amazonaws.com/dev/layer"}),n.addLayer({id:"communities",type:"circle",source:"communities",paint:{"circle-radius":10,"circle-opacity":1,"circle-color":"#000000"}})}),n.on("click","communities",function(n){console.log(n.features[0].properties),e.$emit("scene_clicked",n.features[0].properties)}),n.on("mouseenter","communities",function(){n.getCanvas().style.cursor="pointer"}),n.on("mouseleave","communities",function(){n.getCanvas().style.cursor=""}),this.map=n}},p={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"map"}})},staticRenderFns:[]};var v=t("VU/8")(m,p,!1,function(e){t("dQ2W")},null,null).exports,_={name:"scene",props:["scene"],computed:{contactPoint:function(){return JSON.parse(this.scene.contactPoint)},games:function(){return JSON.parse(this.scene.games)}}},f={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("i",{staticClass:"el-icon-close",on:{click:function(n){e.$emit("close")}}}),e._v(" "),t("h1",[e._v(e._s(e.scene.name))]),e._v(" "),t("h2",[e._v("Contact")]),e._v(" "),e.scene.contactPoint?t("div",[e.scene.contactPoint?t("div",[e._v("twitter: "+e._s(e.contactPoint.twitter))]):e._e()]):e._e(),e._v(" "),t("h2",[e._v("Games")]),e._v(" "),e.scene.games?t("div",e._l(e.games,function(n){return t("div",{key:n.name},[e._v(" "+e._s(n.name)+" ")])})):e._e()])},staticRenderFns:[]};var h={name:"App",components:{mapbox:v,scene:t("VU/8")(_,f,!1,function(e){t("Sd4o")},null,null).exports},data:function(){return{search:"",scenes:!1,scene:!1,games:!1,results:!1,api:""}},methods:{viewScene:function(e){this.scene=e},removeScene:function(){this.scene=!1}},mounted:function(){this.api="https://zctpiqza70.execute-api.eu-west-1.amazonaws.com/dev";var e=this;navigator.geolocation&&(navigator.geolocation.getCurrentPosition(function(e){console.log(e)}),console.log(e),l()(e.api+"/scenes").then(function(n){console.log(n.body),e.scenes=JSON.parse(n.body)}),l()(e.api+"/games").then(function(n){console.log(n.body),e.games=JSON.parse(n.body)}))},watch:{search:function(){var e=this,n=l()(e.api+"/games?search="+this.search).then(function(e){return e.body}),t=l()(e.api+"/scenes?search="+this.search).then(function(e){return e.body});i.a.all([n,t]).then(function(n){var t=n[0];null==t&&(t=[]);var o=n[1];null==o&&(o=[]),e.results=t.concat(o)})}}},w={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("el-menu",{attrs:{mode:"horizontal"}},[t("el-menu-item",{attrs:{index:"1"}},[e._v("FightingGame.community")]),e._v(" "),t("el-menu-item",{attrs:{index:"2"}},[t("el-dropdown",[t("span",{staticClass:"el-dropdown-link"},[e._v("Scenes")]),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.scenes,function(n){return e.scenes?t("el-dropdown-item",{key:n.name},[e._v(e._s(n.name))]):e._e()}))],1)],1),e._v(" "),t("el-menu-item",{attrs:{index:"3"}},[t("el-dropdown",[t("span",{staticClass:"el-dropdown-link"},[e._v("Games")]),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.games,function(n){return e.games?t("el-dropdown-item",{key:n.name},[e._v(e._s(n.name))]):e._e()}))],1)],1),e._v(" "),t("el-menu-item",{attrs:{index:"4"}},[t("el-dropdown",[t("el-input",{staticClass:"el-dropdown-link",model:{value:e.search,callback:function(n){e.search=n},expression:"search"}}),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.results,function(n){return t("el-dropdown-item",{key:n.name},[e._v(e._s(n.name))])}))],1)],1)],1),e._v(" "),e.scene?t("scene",{staticClass:"scene-container",attrs:{scene:e.scene},on:{close:e.removeScene}}):e._e(),e._v(" "),t("div",{staticClass:"map-container"},[t("mapbox",{staticClass:"map",on:{scene_clicked:e.viewScene}})],1)],1)},staticRenderFns:[]};var g=t("VU/8")(h,w,!1,function(e){t("0Wa3")},null,null).exports,y=t("/ocq");o.default.use(y.a);var x=new y.a({routes:[{path:"/",name:"map",component:v}]});o.default.config.productionTip=!1,o.default.use(a.a),new o.default({el:"#app",router:x,components:{App:g},template:"<App/>"})},Sd4o:function(e,n){},dQ2W:function(e,n){},tvR6:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.eccc913426667c91b68c.js.map